<html>
    <head>
        <title>domsync</title>
    </head>
    <body>
        <div id='domsync_root_id'></div> <!-- domsync will be rendered into this element -->
    </body>
    
    <script type = "text/javascript">
        url = "ws://localhost:8152";
        socket = new WebSocket(url);

        socket.onmessage = function(event) {
            domsync = event.data;
            console.log(domsync);
            //https://stackoverflow.com/questions/4670805/javascript-eval-on-global-scope
            (function(){eval.apply(this, arguments);}(domsync));
        };

        function ws_send(msg) {
            socket.send(JSON.stringify(msg));
        }
    </script>
</html>
